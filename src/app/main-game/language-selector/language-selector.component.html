<div class="language-selector">
  <div ngbDropdown>
    <button
      class="btn btn-primary dropdown-toggle"
      type="button"
      id="languageDropdown"
      ngbDropdownToggle
    >
      <span class="flag-icon">{{ currentLanguage.flag }}</span>
      <span class="language-name">{{ currentLanguage.name }}</span>
    </button>
    <div ngbDropdownMenu aria-labelledby="languageDropdown" class="language-dropdown-menu">
      @for (language of languages; track language.code) {
        <ng-container>
          <button
            type="button"
            class="dropdown-item"
            [class.active]="language.code === currentLanguage.code"
            (click)="changeLanguage(language.code)"
          >
            <span class="flag-icon">{{ language.flag }}</span>
            <span>{{ language.name }}</span>
            @if (language.code === currentLanguage.code) {
              <i class="bi bi-check ms-auto text-success"></i>
            }
          </button>
        </ng-container>
      }
    </div>
  </div>
</div>
